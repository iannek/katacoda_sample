# 演習概要
- 演習内容
  - シェルスクリプトを作成して、フォアグラウンド実行、バックグラウンド実行の切り替えを行う。

- 演習目標
  - バックグラウンドの実行方法、確認方法、終了方法を理解する。
  - 以下のコマンドの使い方を理解する。
    - jobs
    - kill
    - fg
    - bg

## 演習内容

1) 以下の処理を行うシェルスクリプトのファイル(test.sh)を作成する。  
   - 繰り返しループを書いて、5秒ごとにloop.txtに"loop"と追記出力する。

2) 1で作成したシェルスクリプトに関して以下を行う。
   - シェルスクリプトをバックグラウンド実行してからフォアグラウンド実行に切り替える。その後、フォアグラウンド実行している処理を、ターミナル上で`ctrl + c`とキーボードで押して停止する。
   - シェルスクリプトをフォアグラウンド実行してからバックグラウンド実行に切り替える。その後、バックグラウンド実行している処理をkillコマンドを使って停止する。

# 演習回答例  
## ループ処理を行うシェルスクリプトを作成してバックグラウンドで実行  
シェルスクリプトファイル"test.sh"をエディタから作成し、下記の内容を書き込む。  

```
#!/bin/bash

while true
do
  echo "loop" >> loop.txt
  sleep 5
done

```

### test.shをバックグラウンドで実行　→　フォアグラウンド実行に切り替え  

test.shをバックグラウンドで実行する。

`bash test.sh &`{{execute}}

jobsコマンドを実行して、バックグラウンドで実行されていることとジョブ番号を確認。  

`jobs`{{execute}}

jobsコマンド実行例  
```
[1]+  Running                 bash test.sh &
```

fgコマンドを使用してバックグラウンドジョブをフォアグラウンドに切り替える。  

`fg 1`{{execute}}

フォアグラウンド実行されていることを確認したら、ターミナル上で`ctrl + c`とキーボードを押して、シェルスクリプトを停止する。  

再度jobsコマンドを実行して、何も表示されないことを確認。

### test.shをフォアグラウンドで実行　→　バックグラウンド実行に切り替え

test.shをフォアグラウンドで実行する。  

`bash test.sh`{{execute}}

5秒ごとにloop.txtに"loop"が追記されていることをエディタからloop.txtを開いて確認。  

ターミナル上で`ctrl + z`とキーボードで押してジョブを一時停止する。

jobsコマンドを実行して、一時停止になっていることとジョブ番号を確認。  

`jobs`{{execute}}

jobsコマンド実行例  
```
[1]+  Stopped                 bash test.sh
```

bgコマンドを実行して一時呈しているジョブをバックグラウンド実行する。  

`bg 1`{{execute}}

jobsコマンドを実行して、バックグラウンドで実行されていることとジョブ番号を確認する。  

`jobs`{{execute}}

jobsコマンド実行例  
```
[1]+  Running                 bash test.sh &
```

killコマンドを実行して、バックグラウンドで実行しているシェルスクリプトを停止する。  

`kill %1`{{execute}}

再度jobsコマンドを実行して、何も表示されないことを確認。  
