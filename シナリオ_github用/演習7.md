# 演習概要
- 演習内容
  - シェルスクリプト実行時に引数を渡す。
  - 渡された引数の件数と中身が妥当であるかをチェックし、処理結果を表示する。

- 演習目標
  - シェルスクリプトへの引数の渡し方、使い方を理解する。
  - 引数として用いる特殊変数を理解する。


## 演習内容

1) 以下の処理を行うシェルスクリプトのファイル(test.sh)を作成・実行する。  
  - シェルスクリプト実行時に1つ目の引数として5,2つ目の引数として8を渡す。
  - 引数に関して以下の2つの判定を行い、結果に応じて処理を分岐する。
    - 1つ目の判定
      - 渡された引数の数が2個であるかを判定する。
        - 2個である場合…2つ目の判定処理に移る。
        - 2個でない場合…"引数指定不備"とターミナル上に出力して、処理を終了する。
    - 2つ目の判定
      - 引数の値が5,8であるかを判定する。
        - 5,8である場合…引数を足し合わせて結果をターミナル上に出力する。
        - 5,8でない場合…"引数指定不備"とターミナル上に出力して、処理を終了する。
      - 発展問題：渡された引数が数字であるかどうかを判定する。(ヒント：直接数字であるかどうかの判定はできないため、別のコマンドを使用してその終了ステータスで判定する。)

# 演習解答  
## 引数の処理を行うシェルスクリプト  
シェルスクリプトファイル"test.sh"をエディタから作成し、下記の内容を書き込む。  

```
#!/bin/bash
if [ $# = 2 ] && [ $1 = 5 ] && [ $2 = 8 ]; then
  echo $(($1 + $2))
else
  echo "引数指定不備"
fi
```

test.shを実行する。  

`bash test.sh 5 8`

計算結果が表示されることを確認。  
(以下は上記の例の場合の表示)

```
13
```

引数の数が誤っている場合や渡された値が誤っている場合は"引数指定不備"と表示されることを確認する。

コマンド例  
`bash test.sh 5`  
`bash test.sh 5 7`  

出力結果を確認  

```
引数指定不備
```


## 引数の処理を行うシェルスクリプト(発展問題解答例)  

```
#!/bin/bash
expr $1 + $2 > /dev/null 2>&1 # 計算処理を行いエラー結果は出力しない
RET=$? # exprの終了ステータスを代入する。計算結果が0以外の場合0が、計算結果が0の場合は1が代入される。

if [ $# = 2 ] && [ $RET = 0 ] || [ $RET = 1 ]; then
  echo $(($1 + $2))
else
  echo "引数指定不備"
fi
```

