# シナリオ説明
- 演習内容
  - 四則演算の結果を行う。
  - 環境変数を設定、環境変数を読み取って計算に利用する。

- 演習目標
  - 四則演算の書き方、使い方を理解する
  - 環境変数の設定、読み取り方を理解する
  - 以下のコマンドの使い方を理解する。
    - export
    - printenv


## 演習手順

1) 以下の計算処理を行うシェルスクリプトのファイル(test.sh)を作成・実行する。  
  - ２つのシェル変数VAR1,VAR2を設定し、それぞれに任意の整数を与える。
  - VAR1,VAR2を用いて以下の計算を行い、結果をターミナル上に表示する。
    - VAR1 + VAR2
    - VAR1 - VAR2
    - VAR1 * VAR2
    - VAR1 / VAR2
  - ※VAR1,VAR2に入れる値によってはエラーが発生することに注意。
  - ※除算では少数点以下の表示は不要。(興味のある人は調べてやってみると良い)


2) 以下の計算処理を行うシェルスクリプトのファイル(test2.sh)を作成する。  
  - 環境変数ENVVAR1を読み取って以下の計算を行い、結果をターミナル上に表示する。(環境変数ENVVAR1はターミナルでコマンドを実行して設定する。値は任意の整数とする。)
    - ENVVAR1に1～10までの数字を足す。(例：ENVVARが1の場合、答えは56になる。)

# 演習回答例  
## 四則演算を行うシェルスクリプト  
シェルスクリプトファイル"test.sh"をエディタから作成し、下記の内容を書き込む。  

```
#!/bin/bash
VAR1=5 #任意の整数
VAR2=3 #任意の整数

echo $VAR1 + $VAR2 = $(($VAR1 + $VAR2))
echo $VAR1 - $VAR2 = $(($VAR1 - $VAR2))
echo $VAR1 \* $VAR2 = $(($VAR1 * $VAR2))
echo $VAR1 / $VAR2 = $(($VAR1 / $VAR2))
# 小数点の計算を行いたい場合(例:awkを使用)
## echo $VAR1 / $VAR2 = `echo "$VAR1 $VAR2" | awk '{print $1 / $2}'`
# 小数点の計算を行いたい場合(例:bcを使用(本環境ではコマンド"apt install bc"を実行して事前にインストールする必要がある))
## echo $VAR1 / $VAR2 = `echo "scale=5; $VAR1 / $VAR2" | bc`
```

test.shを実行する。  

`bash test.sh`{{execute}}

計算結果が表示されることを確認。  
(以下は上記の例の場合の表示)

```
5 + 3 = 8
5 - 3 = 2
5 * 3 = 15
5 / 3 = 1
```

## 環境変数を読み取って四則演算を繰り返し行うシェルスクリプト  

exportコマンドを実行して環境変数をターミナルから設定する。  

`export ENVVAR1=1`{{execute}}

printenvコマンドを実行して環境変数が設定されたことを確認。  

`printenv`{{execute}}  

上記コマンドを実行すると、設定されている環境変数が全て出力される。  
環境変数の中に以下の表示があることを確認。  

```
ENVVAR1=1
```

備考…後の演習に出てくるパイプラインを使用すると、ENVVARだけを特定して表示することが出来る。  
その場合、下記のようなコマンドとなる。  

`printenv | grep ENVVAR1`{{execute}}  

シェルスクリプトファイル"test2.sh"をエディタから作成し、下記の内容を書き込む。  

```
#!/bin/bash
res=${ENVVAR1}

for ((i=1; i<11; i++))
do
  res=$((res + i))
done

echo result = $res
```

test2.shを実行する。  

`bash test2.sh`{{execute}}

計算結果が表示されることを確認。  
(以下は上記の例の場合の表示)

```
result = 56
```
