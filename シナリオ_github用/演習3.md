# シナリオ説明
- 演習内容
  - 指定回数繰り返しループを行うシェルスクリプトを作成して実行する。
  - 無限ループの処理を行うシェルスクリプトを作成して実行する。(停止は手動で行う)
  - 特定条件が満たされるまで繰り返しループを行うシェルスクリプトを作成して実行する。

- 演習目標
  - 以下のコマンドの使い方を理解する。
    - for
    - while
    - break
    - continue

# 演習手順

1. 以下の内容を持つシェルスクリプトのファイル(test.sh)を作成・実行する。
  - for文を用いて4回ループする処理を作成し、以下に示すようにループごとにターミナル上にループ回数を出力する。  

  ```
  0
  1
  2
  3
  4
  ```

2. 以下の内容を持つシェルスクリプトのファイル(test2.sh)を作成・実行する。停止はターミナル上で`ctrl + c`とキーボードで押して停止する。
  - while文を用いて無限ループを作成し、3秒ごとに"loop"とターミナル上に出力する。

3. 以下の内容を持つシェルスクリプトのファイルを作成・実行する。
 - "hoge.txt"が存在するかを判定する。
   - 判定結果により以下の処理が行われる
     - "hoge.txt"が存在する場合…"OK"とターミナル上に文字を表示して処理を終了する。
     - "hoge.txt"が存在しない場合…"NG"とターミナル上に文字を表示して3秒後に再び同じ判定を行う。
   - ※hoge.txtはシェルスクリプトと同じディレクトリ上に作成する。コマンドの成否だけで判定するためhoge.txtの中身は空で良い。


# 演習回答例  
## 一定回数ループを繰り返すシェルスクリプトの作成  
シェルスクリプトファイル"test.sh"をエディタから作成し、下記の内容を書き込む。  

```
#!/bin/bash

for ((i=0; i<5; i++))
do
  echo $i
done
```

test.shを実行する。  

`bash test.sh`{{execute}}

以下の内容がターミナル上に表示されていることを確認。  

```
0
1
2
3
4
```

## 無限ループのシェルスクリプトの作成  

シェルスクリプトファイル"test2.sh"をエディタから作成し、下記の内容を書き込む。  

```
#!/bin/bash

while true
do
  echo "loop"
  sleep 3
done
```

test2.shを実行する。  

`bash test2.sh`{{execute}}

以下の内容が3秒ごとにターミナル上に表示されていることを確認。  

```
loop
```

ターミナル上で次のキーを押して、シェルスクリプトを停止する。

`ctrl + c`

## 特定条件が満たされるまでループを繰り返すシェルスクリプトの作成

シェルスクリプトファイル"test3.sh"をエディタから作成し、下記の内容を書き込む。  

```
#!/bin/bash

FILE="hoge.txt"

while true
do
  if [ -e $FILE ]; then
    echo "OK"
    break
  else
    echo "NG"
    sleep 3
    continue
  fi
done
```

test3.shを実行する。  

`bash test3.sh`{{execute}}

hoge.txtが存在しない場合は、以下の内容が3秒ごとにターミナル上に表示されていることを確認。  

```
NG
```

hoge.txtが存在する場合は、以下の内容がターミナル上に表示されループが終了することを確認。

```
OK
```

処理中にhoge.txtを作成した場合は下記のようになりループが終了することを確認。

```
NG
NG ←次の処理が実行される前にファイルhoge.txtを作成
OK
```
